

# Code generated by gen-wire-tests. DO NOT EDIT.
- job:
    name: 'test-relations-multijob'
    project-type: 'multijob'
    description: |-
        Test relations Suite
    condition: SUCCESSFUL
    node: noop-parent-jobs
    concurrent: true
    wrappers:
    - ansicolor
    - workspace-cleanup
    - timestamps
    parameters:
    - string:
        default: ''
        description: 'Enable sub job to be run individually.'
        name: SHORT_GIT_COMMIT
    - string:
        default: ''
        description: 'Build arch used to download the build tar.gz.'
        name: BUILD_ARCH
    builders:
    - get-s3-build-details
    - set-test-description
    - multijob:
        name: 'IntegrationTests-relations'
        projects:
        - name: 'test-relations-test-relation-data-exchange-aws'
          current-parameters: true
        - name: 'test-relations-test-relation-data-exchange-lxd'
          current-parameters: true
        - name: 'test-relations-test-relation-departing-unit-aws'
          current-parameters: true
        - name: 'test-relations-test-relation-departing-unit-lxd'
          current-parameters: true
        - name: 'test-relations-test-relation-list-app-aws'
          current-parameters: true
        - name: 'test-relations-test-relation-list-app-lxd'
          current-parameters: true
        - name: 'test-relations-test-relation-model-get-aws'
          current-parameters: true
        - name: 'test-relations-test-relation-model-get-lxd'
          current-parameters: true

- job:
    name: test-relations-test-relation-data-exchange-aws
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_relation_data_exchange in relations suite on aws
    parameters:
    - validating-string:
        name: SHORT_GIT_COMMIT
        description: 'Enable sub job to be run individually.'
        regex: ^\S{{7}}$
        msg: Enter a valid 7 char git sha
    - choice:
        default: 'amd64'
        description: 'Build arch used to download the build tar.gz.'
        name: BUILD_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used to boostrap controller.'
        name: BOOTSTRAP_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used for hosted models.'
        name: MODEL_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - string:
        default: 'aws'
        description: 'Cloud to use when bootstrapping Juju'
        name: BOOTSTRAP_CLOUD
    - string:
        default: 'ec2'
        description: 'Provider to use when bootstrapping Juju'
        name: BOOTSTRAP_PROVIDER
    - string:
        default: 'us-east-1'
        description: 'Cloud Region to use when bootstrapping Juju'
        name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - select-oci-registry
      - wait-for-cloud-init
      - prepare-integration-test
      - conditional-step:
          # Do not run on regexp version match.
          # Accounts for tests which do not exist
          # in later Juju versions.
          condition-kind: not
          condition-operand:
            condition-kind: regex-match
            regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
            label: "${{JUJU_VERSION}}"
            on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: 'relations'
                setup_steps: ''
                task_name: 'test_relation_data_exchange'
                skip_tasks: 'test_relation_departing_unit,test_relation_list_app,test_relation_model_get'
    publishers:
      - integration-artifacts

- job:
    name: test-relations-test-relation-data-exchange-lxd
    node: ephemeral-noble-8c-32g-amd64
    concurrent: true
    description: |-
      Test test_relation_data_exchange in relations suite on lxd
    parameters:
    - validating-string:
        name: SHORT_GIT_COMMIT
        description: 'Enable sub job to be run individually.'
        regex: ^\S{{7}}$
        msg: Enter a valid 7 char git sha
    - choice:
        default: 'amd64'
        description: 'Build arch used to download the build tar.gz.'
        name: BUILD_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used to boostrap controller.'
        name: BOOTSTRAP_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used for hosted models.'
        name: MODEL_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - string:
        default: 'localhost'
        description: 'Cloud to use when bootstrapping Juju'
        name: BOOTSTRAP_CLOUD
    - string:
        default: 'lxd'
        description: 'Provider to use when bootstrapping Juju'
        name: BOOTSTRAP_PROVIDER
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - select-oci-registry
      - wait-for-cloud-init
      - prepare-integration-test
      - conditional-step:
          # Do not run on regexp version match.
          # Accounts for tests which do not exist
          # in later Juju versions.
          condition-kind: not
          condition-operand:
            condition-kind: regex-match
            regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
            label: "${{JUJU_VERSION}}"
            on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: 'relations'
                setup_steps: ''
                task_name: 'test_relation_data_exchange'
                skip_tasks: 'test_relation_departing_unit,test_relation_list_app,test_relation_model_get'
    publishers:
      - integration-artifacts

- job:
    name: test-relations-test-relation-departing-unit-aws
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_relation_departing_unit in relations suite on aws
    parameters:
    - validating-string:
        name: SHORT_GIT_COMMIT
        description: 'Enable sub job to be run individually.'
        regex: ^\S{{7}}$
        msg: Enter a valid 7 char git sha
    - choice:
        default: 'amd64'
        description: 'Build arch used to download the build tar.gz.'
        name: BUILD_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used to boostrap controller.'
        name: BOOTSTRAP_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used for hosted models.'
        name: MODEL_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - string:
        default: 'aws'
        description: 'Cloud to use when bootstrapping Juju'
        name: BOOTSTRAP_CLOUD
    - string:
        default: 'ec2'
        description: 'Provider to use when bootstrapping Juju'
        name: BOOTSTRAP_PROVIDER
    - string:
        default: 'us-east-1'
        description: 'Cloud Region to use when bootstrapping Juju'
        name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - select-oci-registry
      - wait-for-cloud-init
      - prepare-integration-test
      - conditional-step:
          # Do not run on regexp version match.
          # Accounts for tests which do not exist
          # in later Juju versions.
          condition-kind: not
          condition-operand:
            condition-kind: regex-match
            regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
            label: "${{JUJU_VERSION}}"
            on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: 'relations'
                setup_steps: ''
                task_name: 'test_relation_departing_unit'
                skip_tasks: 'test_relation_data_exchange,test_relation_list_app,test_relation_model_get'
    publishers:
      - integration-artifacts

- job:
    name: test-relations-test-relation-departing-unit-lxd
    node: ephemeral-noble-8c-32g-amd64
    concurrent: true
    description: |-
      Test test_relation_departing_unit in relations suite on lxd
    parameters:
    - validating-string:
        name: SHORT_GIT_COMMIT
        description: 'Enable sub job to be run individually.'
        regex: ^\S{{7}}$
        msg: Enter a valid 7 char git sha
    - choice:
        default: 'amd64'
        description: 'Build arch used to download the build tar.gz.'
        name: BUILD_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used to boostrap controller.'
        name: BOOTSTRAP_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used for hosted models.'
        name: MODEL_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - string:
        default: 'localhost'
        description: 'Cloud to use when bootstrapping Juju'
        name: BOOTSTRAP_CLOUD
    - string:
        default: 'lxd'
        description: 'Provider to use when bootstrapping Juju'
        name: BOOTSTRAP_PROVIDER
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - select-oci-registry
      - wait-for-cloud-init
      - prepare-integration-test
      - conditional-step:
          # Do not run on regexp version match.
          # Accounts for tests which do not exist
          # in later Juju versions.
          condition-kind: not
          condition-operand:
            condition-kind: regex-match
            regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
            label: "${{JUJU_VERSION}}"
            on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: 'relations'
                setup_steps: ''
                task_name: 'test_relation_departing_unit'
                skip_tasks: 'test_relation_data_exchange,test_relation_list_app,test_relation_model_get'
    publishers:
      - integration-artifacts

- job:
    name: test-relations-test-relation-list-app-aws
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_relation_list_app in relations suite on aws
    parameters:
    - validating-string:
        name: SHORT_GIT_COMMIT
        description: 'Enable sub job to be run individually.'
        regex: ^\S{{7}}$
        msg: Enter a valid 7 char git sha
    - choice:
        default: 'amd64'
        description: 'Build arch used to download the build tar.gz.'
        name: BUILD_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used to boostrap controller.'
        name: BOOTSTRAP_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used for hosted models.'
        name: MODEL_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - string:
        default: 'aws'
        description: 'Cloud to use when bootstrapping Juju'
        name: BOOTSTRAP_CLOUD
    - string:
        default: 'ec2'
        description: 'Provider to use when bootstrapping Juju'
        name: BOOTSTRAP_PROVIDER
    - string:
        default: 'us-east-1'
        description: 'Cloud Region to use when bootstrapping Juju'
        name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - select-oci-registry
      - wait-for-cloud-init
      - prepare-integration-test
      - conditional-step:
          # Do not run on regexp version match.
          # Accounts for tests which do not exist
          # in later Juju versions.
          condition-kind: not
          condition-operand:
            condition-kind: regex-match
            regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
            label: "${{JUJU_VERSION}}"
            on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: 'relations'
                setup_steps: ''
                task_name: 'test_relation_list_app'
                skip_tasks: 'test_relation_data_exchange,test_relation_departing_unit,test_relation_model_get'
    publishers:
      - integration-artifacts

- job:
    name: test-relations-test-relation-list-app-lxd
    node: ephemeral-noble-8c-32g-amd64
    concurrent: true
    description: |-
      Test test_relation_list_app in relations suite on lxd
    parameters:
    - validating-string:
        name: SHORT_GIT_COMMIT
        description: 'Enable sub job to be run individually.'
        regex: ^\S{{7}}$
        msg: Enter a valid 7 char git sha
    - choice:
        default: 'amd64'
        description: 'Build arch used to download the build tar.gz.'
        name: BUILD_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used to boostrap controller.'
        name: BOOTSTRAP_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used for hosted models.'
        name: MODEL_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - string:
        default: 'localhost'
        description: 'Cloud to use when bootstrapping Juju'
        name: BOOTSTRAP_CLOUD
    - string:
        default: 'lxd'
        description: 'Provider to use when bootstrapping Juju'
        name: BOOTSTRAP_PROVIDER
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - select-oci-registry
      - wait-for-cloud-init
      - prepare-integration-test
      - conditional-step:
          # Do not run on regexp version match.
          # Accounts for tests which do not exist
          # in later Juju versions.
          condition-kind: not
          condition-operand:
            condition-kind: regex-match
            regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
            label: "${{JUJU_VERSION}}"
            on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: 'relations'
                setup_steps: ''
                task_name: 'test_relation_list_app'
                skip_tasks: 'test_relation_data_exchange,test_relation_departing_unit,test_relation_model_get'
    publishers:
      - integration-artifacts

- job:
    name: test-relations-test-relation-model-get-aws
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_relation_model_get in relations suite on aws
    parameters:
    - validating-string:
        name: SHORT_GIT_COMMIT
        description: 'Enable sub job to be run individually.'
        regex: ^\S{{7}}$
        msg: Enter a valid 7 char git sha
    - choice:
        default: 'amd64'
        description: 'Build arch used to download the build tar.gz.'
        name: BUILD_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used to boostrap controller.'
        name: BOOTSTRAP_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used for hosted models.'
        name: MODEL_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - string:
        default: 'aws'
        description: 'Cloud to use when bootstrapping Juju'
        name: BOOTSTRAP_CLOUD
    - string:
        default: 'ec2'
        description: 'Provider to use when bootstrapping Juju'
        name: BOOTSTRAP_PROVIDER
    - string:
        default: 'us-east-1'
        description: 'Cloud Region to use when bootstrapping Juju'
        name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - select-oci-registry
      - wait-for-cloud-init
      - prepare-integration-test
      - conditional-step:
          condition-kind: and
          condition-operands:
            # Do not run on regexp version match.
            # Accounts for tests which do not exist
            # in later Juju versions.
            - condition-kind: not
              condition-operand:
                condition-kind: regex-match
                regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
                label: "${{JUJU_VERSION}}"
            # Only run on regexp version match.
            # Accounts for tests which do not exist
            # until a given Juju version.
            - condition-kind: regex-match
              regex: "^[4-9].*|^3\\.([6-9]|\\d{{2,}})(\\.|-).*"
              label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                  test_name: 'relations'
                  setup_steps: ''
                  task_name: 'test_relation_model_get'
                  skip_tasks: 'test_relation_data_exchange,test_relation_departing_unit,test_relation_list_app'
    publishers:
      - integration-artifacts

- job:
    name: test-relations-test-relation-model-get-lxd
    node: ephemeral-noble-8c-32g-amd64
    concurrent: true
    description: |-
      Test test_relation_model_get in relations suite on lxd
    parameters:
    - validating-string:
        name: SHORT_GIT_COMMIT
        description: 'Enable sub job to be run individually.'
        regex: ^\S{{7}}$
        msg: Enter a valid 7 char git sha
    - choice:
        default: 'amd64'
        description: 'Build arch used to download the build tar.gz.'
        name: BUILD_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used to boostrap controller.'
        name: BOOTSTRAP_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - choice:
        default: ''
        description: 'Arch used for hosted models.'
        name: MODEL_ARCH
        choices:
        - amd64
        - arm64
        - s390x
        - ppc64el
    - string:
        default: 'localhost'
        description: 'Cloud to use when bootstrapping Juju'
        name: BOOTSTRAP_CLOUD
    - string:
        default: 'lxd'
        description: 'Provider to use when bootstrapping Juju'
        name: BOOTSTRAP_PROVIDER
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - select-oci-registry
      - wait-for-cloud-init
      - prepare-integration-test
      - conditional-step:
          condition-kind: and
          condition-operands:
            # Do not run on regexp version match.
            # Accounts for tests which do not exist
            # in later Juju versions.
            - condition-kind: not
              condition-operand:
                condition-kind: regex-match
                regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
                label: "${{JUJU_VERSION}}"
            # Only run on regexp version match.
            # Accounts for tests which do not exist
            # until a given Juju version.
            - condition-kind: regex-match
              regex: "^[4-9].*|^3\\.([6-9]|\\d{{2,}})(\\.|-).*"
              label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                  test_name: 'relations'
                  setup_steps: ''
                  task_name: 'test_relation_model_get'
                  skip_tasks: 'test_relation_data_exchange,test_relation_departing_unit,test_relation_list_app'
    publishers:
      - integration-artifacts
